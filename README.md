# scan-frontend-with-local-api

Минималистичный комплект для локального запуска фронтенда на Vite + React с Express API. Подходит для быстрой проверки бизнес-логики авторизации, защищённых маршрутов и поиска по публикациям без внешних сервисов.

## Требования
- Node.js 20+ и npm 10+
- Свободные порты: 4000 (API) и 5173 (клиент)
- Переменные окружения (опционально): `VITE_API_BASE_URL` для переопределения адреса API (по умолчанию `http://localhost:4000`)

## Быстрый старт
1. Установите зависимости API:
   ```bash
   cd api
   npm install
   node src/server.js
   ```
2. В новом терминале поднимите клиент:
   ```bash
   cd client
   npm install
   npm run dev
   ```
3. Сборка и предпросмотр готовой версии:
   ```bash
   npm run build
   npm run preview
   ```
4. Проверка линтера:
   ```bash
   npm run lint
   ```

## Структура проекта
- `api/` — Express-сервер с примерами авторизации и выдачи по публикациям.
- `client/` — фронтенд на React + Vite.
  - `src/main.jsx` — точка входа.
  - `src/components/Layout/` — оболочка приложения, шапка и подвал.
  - `src/pages/` — страницы (главная, вход, регистрация, поиск).
  - `src/shared/api.js` — работа с API и базовый клиент.

## Скрипты
- `npm run dev` — дев-сервер Vite.
- `npm run build` — сборка production.
- `npm run preview` — предпросмотр собранной версии.
- `npm run lint` — проверка кода ESLint.

## Запуск в Docker
При наличии Docker и Compose запустите оба сервиса одной командой:
```bash
docker-compose up --build
```
Клиент будет доступен на `http://localhost:5173`, API — на `http://localhost:4000/api/v1`.

## Troubleshooting
- **Порт занят** — остановите процессы, использующие 4000 или 5173, либо измените порт Vite (`npm run dev -- --port 5174`) и обновите CORS/переменную `VITE_API_BASE_URL`.
- **Нет ответа от API** — убедитесь, что сервер из папки `api` запущен и адрес совпадает с `VITE_API_BASE_URL`.
- **Ошибки CORS** — проверьте, что фронтенд работает с того же хоста/порта, который разрешён в `api/src/server.js`.
- **Проблемы со сборкой** — удалите кэш Vite (`rm -rf client/node_modules/.vite`) и соберите заново.
- **Неверные переменные окружения** — передайте `VITE_API_BASE_URL` при запуске dev/preview или пропишите в `.env` (на стороне клиента).
